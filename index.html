<!DOCTYPE html>
<html lang="lb">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zuelen 20â€“99 (P3) â€“ UnitÃ©iten & ZÃ©ngere</title>
  <style>
    @font-face {
      font-family: 'SchoulschrÃ«ft';
      src: url('https://raw.githubusercontent.com/albrechtclaire1007/schoulschreft/main/schoulschreft_bold%5B2%5D.TTF') format('truetype');
      font-weight: bold;
      font-display: swap;
    }

    :root{
      --bg:#ffffff;
      --ink:#111111;
      --muted:#50555b;

      /* ðŸ‘‰ P3 blue (adjust if you have a specific hex) */
      --accent:#2b7de9;
      --ring:#d7e6ff;

      --ok:#2e7d32;
      --bad:#c62828;

      --tile:#ffffff;
      --tileHover:#f6f8fb;
      --border:#000000; /* black borders for chips */
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font-family:'SchoulschrÃ«ft', system-ui, Arial, sans-serif;
      line-height:1.4;
      padding:16px;
      min-height:100svh;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .app{
      width:min(100%, 980px);
      background:#fff;
      border:1px solid #eaeaea;
      border-radius:24px;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
      padding:20px 20px 24px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
      flex-wrap:wrap;
    }
    .badge{
      font-size:14px;
      padding:6px 12px;
      background:#f3f7fe;
      border-radius:999px;
      border:1px solid var(--ring);
      color:#0c3c91;
    }
    .btn{
      border:none;
      border-radius:12px;
      padding:10px 14px;
      background:#f3f7fe;
      color:#0c3c91;
      cursor:pointer;
      font-family:inherit;
      font-weight:700;
      border:1px solid var(--ring);
    }
    .btn:hover{ background:var(--tileHover); }

    .word{
      text-align:center;
      font-size: clamp(28px, 4.4vw, 44px);
      font-weight:700;
      margin:10px 0 14px;
      padding:12px 16px;
      border-radius:16px;
      background:linear-gradient(180deg,#fafcff,#f3f7fe);
      border:1px solid var(--ring);
      color:#0c3c91;
    }

    .row{ margin:16px 0 6px; }
    .row .label{
      color:var(--muted);
      font-size:16px;
      margin:0 0 10px 6px;
    }

    .choices{
      display:grid;
      gap:12px;
    }
    /* Units: 10 circles across on wide screens, wrap nicely on small */
    .choices.units{
      grid-template-columns: repeat(10, minmax(52px, 1fr));
    }
    /* Tens: 9 pills */
    .choices.tens{
      grid-template-columns: repeat(9, minmax(68px, 1fr));
    }

    .chip{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      user-select:none;
      cursor:pointer;
      font-family:'SchoulschrÃ«ft', system-ui, Arial, sans-serif;
      font-weight:800;
      background:var(--tile);
      transition: transform .06s ease, background .15s ease, border-color .15s ease, color .15s ease, box-shadow .15s ease;
      color: var(--ink);
      /* default border is black */
      border:2px solid var(--border);
    }
    /* True circles with white interior & black border */
    .chip.circle{
      aspect-ratio: 1/1;
      border-radius: 999px;
      width: 100%;
      min-width: 48px;
      min-height: 48px;
      font-size: clamp(18px, 2.8vw, 28px);
      background:#ffffff; /* white interior */
    }
    /* Tens: rounded pills, also white interior & black border */
    .chip.pill{
      border-radius: 999px;
      padding: 14px 10px;
      font-size: clamp(18px, 2.6vw, 26px);
      background:#ffffff; /* white interior */
    }

    .chip:hover{
      background:var(--tileHover);
      transform:translateY(-1px);
    }
    .chip.selected{
      box-shadow:0 0 0 4px var(--ring) inset;
      border-color: var(--accent);
    }
    .chip.correct{
      background: #2e7d32; /* green fill */
      color: #ffffff;      /* white text for contrast */
      border-color: var(--border);
      box-shadow:none;
    }
    .chip.wrong{
      background:#c62828; /* red fill */
      color:#ffffff;
      border-color: var(--border);
      box-shadow:none;
      animation: shake .18s linear 2;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      50% { transform: translateX(3px); }
      75% { transform: translateX(-2px); }
      100% { transform: translateX(0); }
    }

    .footer{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-top:18px;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:14px;
    }

    .progress{
      height:10px;
      background:#eef3ff;
      border-radius:999px;
      overflow:hidden;
      margin-top:6px;
      border:1px solid var(--ring);
    }
    .progress > i{
      display:block;
      height:100%;
      width:0%;
      background: linear-gradient(90deg, #86b7ff, var(--accent));
      transition: width .35s ease;
    }

    .done{
      text-align:center;
      padding:24px 12px 8px;
    }
    .done h2{
      margin:0 0 10px;
      font-size: clamp(28px, 4vw, 40px);
      color:#0c3c91;
    }
    .done p{ margin:4px 0; }
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="P3 Zuelen 20â€“99 Spill">
    <div class="topbar">
      <div class="badge" id="countBadge">Beispill 1 / 25</div>
      <div style="display:flex; gap:8px;">
        <button class="btn" id="resetBtn" title="Spill nei starten">ZerÃ©cksetzen</button>
        <!-- Iwwersprangen removed as requested -->
      </div>
    </div>

    <div class="word" id="word">â€”</div>

    <div class="row">
      <div class="label">UnitÃ©iten</div>
      <div class="choices units" id="units"></div>
    </div>

    <div class="row">
      <div class="label">ZÃ©ngere</div>
      <div class="choices tens" id="tens"></div>
    </div>

    <div class="footer">
      <div style="min-width:220px; flex:1;">
        <div class="progress" aria-hidden="true"><i id="bar"></i></div>
      </div>
      <div id="scoreText">Punkten: <b id="score">0</b></div>
    </div>

    <div id="endScreen" class="done" style="display:none;">
      <h2>Super gemaach! ðŸŽ‰</h2>
      <p>Du hues all 25 Beispiller gemaach.</p>
      <p>Punkten: <b id="finalScore">0</b> / 25</p>
      <button class="btn" id="againBtn">Nach eng KÃ©ier spillen</button>
    </div>
  </div>

  <script>
    // -------------------------
    // CONFIG: Edit examples here
    // -------------------------
    const EXAMPLES = [
      { word: "nÃ©ngasiechzeg", unit: 9, tens: 60 }, // your example
      { word: "drÃ¤iandrÃ«sseg", unit: 3, tens: 30 },
      { word: "vÃ©ieravÃ©ierzeg", unit: 4, tens: 40 },
      { word: "fÃ«nneffofzeg", unit: 5, tens: 50 },
      { word: "siwenasiwwenzeg", unit: 7, tens: 70 },
      { word: "achtanachtzeg", unit: 8, tens: 80 },
      { word: "eenanzwanzeg", unit: 1, tens: 20 },
      { word: "zweeanzwanzeg", unit: 2, tens: 20 },
      { word: "sechsasechzeg", unit: 6, tens: 60 },
      { word: "nÃ©nganonzeg", unit: 9, tens: 90 },
      { word: "aachtanzwanzeg", unit: 8, tens: 20 },
      { word: "drÃ¤ianachtzeg", unit: 3, tens: 80 },
      { word: "vÃ©ieranonzeg", unit: 4, tens: 90 },
      { word: "fÃ«nnefasiwwenzeg", unit: 5, tens: 70 },
      { word: "sechsadrÃ«sseg", unit: 6, tens: 30 },
      { word: "siwenavÃ©ierzeg", unit: 7, tens: 40 },
      { word: "achtazwanzeg", unit: 8, tens: 20 },
      { word: "zweeanonzeg", unit: 2, tens: 90 },
      { word: "eenasechzeg", unit: 1, tens: 60 },
      { word: "vÃ©ieranfofzeg", unit: 4, tens: 50 },
      { word: "drÃ¤iasiwwenzeg", unit: 3, tens: 70 },
      { word: "sechsanonzeg", unit: 6, tens: 90 },
      { word: "achtavÃ©ierzeg", unit: 8, tens: 40 },
      { word: "siwenazwanzeg", unit: 7, tens: 20 },
      { word: "fÃ«nnefanachtzeg", unit: 5, tens: 80 },
    ];
    const TOTAL = 25; // number of examples per round

    // -------------------------
    // DOM
    // -------------------------
    const wordEl   = document.getElementById('word');
    const unitsEl  = document.getElementById('units');
    const tensEl   = document.getElementById('tens');
    const barEl    = document.getElementById('bar');
    const scoreEl  = document.getElementById('score');
    const countBadge = document.getElementById('countBadge');
    const endScreen  = document.getElementById('endScreen');
    const finalScore = document.getElementById('finalScore');
    const resetBtn   = document.getElementById('resetBtn');
    const againBtn   = document.getElementById('againBtn');

    // -------------------------
    // State
    // -------------------------
    let deck = [];
    let idx = 0;
    let score = 0;
    let lockedUnit = false;
    let lockedTens = false;
    let selectedUnit = null;
    let selectedTens = null;

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]] = [arr[j],arr[i]];
      }
      return arr;
    }

    function makeDeck(){
      const pool = [...EXAMPLES];
      shuffle(pool);
      return pool.slice(0, TOTAL);
    }

    function renderNumberRows(){
      // Units 0â€“9 as true circles
      unitsEl.innerHTML = '';
      for(let u=0; u<=9; u++){
        const btn = document.createElement('button');
        btn.className = 'chip circle';
        btn.textContent = String(u);
        btn.setAttribute('data-unit', String(u));
        btn.addEventListener('click', onUnitClick);
        btn.setAttribute('aria-label', `UnitÃ©it ${u}`);
        unitsEl.appendChild(btn);
      }
      // Tens 10..90 as pills
      tensEl.innerHTML = '';
      for(let t=10; t<=90; t+=10){
        const btn = document.createElement('button');
        btn.className = 'chip pill';
        btn.textContent = String(t);
        btn.setAttribute('data-tens', String(t));
        btn.addEventListener('click', onTensClick);
        btn.setAttribute('aria-label', `ZÃ©ngere ${t}`);
        tensEl.appendChild(btn);
      }
    }

    function updateHUD(){
      countBadge.textContent = `Beispill ${Math.min(idx+1, TOTAL)} / ${TOTAL}`;
      scoreEl.textContent = String(score);
      const pct = Math.round((idx / TOTAL) * 100);
      barEl.style.width = pct + '%';
    }

    function showCard(){
      lockedUnit = false;
      lockedTens = false;
      selectedUnit = null;
      selectedTens = null;
      // Clear styles
      [...unitsEl.children].forEach(el => { el.classList.remove('selected','correct','wrong'); });
      [...tensEl.children].forEach(el => { el.classList.remove('selected','correct','wrong'); });

      const card = deck[idx];
      wordEl.textContent = card.word;
      updateHUD();
    }

    function flash(el, cls){
      el.classList.add(cls);
      setTimeout(()=> el.classList.remove(cls), 250);
    }

    function onUnitClick(e){
      if (idx >= TOTAL) return;
      const el = e.currentTarget;
      if (lockedUnit) return;

      [...unitsEl.children].forEach(btn => btn.classList.remove('selected'));
      el.classList.add('selected');

      const choice = Number(el.getAttribute('data-unit'));
      selectedUnit = choice;

      const correct = deck[idx].unit;
      if (choice === correct){
        el.classList.remove('selected');
        el.classList.add('correct'); // green fill
        lockedUnit = true;
        maybeAdvance();
      } else {
        flash(el,'wrong'); // red fill flash
      }
    }

    function onTensClick(e){
      if (idx >= TOTAL) return;
      const el = e.currentTarget;
      if (lockedTens) return;

      [...tensEl.children].forEach(btn => btn.classList.remove('selected'));
      el.classList.add('selected');

      const choice = Number(el.getAttribute('data-tens'));
      selectedTens = choice;

      const correct = deck[idx].tens;
      if (choice === correct){
        el.classList.remove('selected');
        el.classList.add('correct');
        lockedTens = true;
        maybeAdvance();
      } else {
        flash(el,'wrong');
      }
    }

    function maybeAdvance(){
      if (lockedUnit && lockedTens){
        score += 1; // one point per completed card
        updateHUD();
        setTimeout(()=>{
          idx += 1;
          if (idx >= TOTAL){
            finish();
          } else {
            showCard();
          }
        }, 420);
      }
    }

    function finish(){
      wordEl.textContent = "â€”";
      endScreen.style.display = "block";
      finalScore.textContent = String(score);
      [...unitsEl.children, ...tensEl.children].forEach(b=>{
        b.disabled = true;
        b.style.opacity = .5;
        b.style.cursor = 'default';
      });
      barEl.style.width = '100%';
      countBadge.textContent = `FÃ¤erdeg / ${TOTAL}`;
    }

    function reset(){
      endScreen.style.display = "none";
      [...unitsEl.children, ...tensEl.children].forEach(b=>{
        b.disabled = false;
        b.style.opacity = 1;
        b.style.cursor = 'pointer';
      });
      score = 0;
      idx = 0;
      deck = makeDeck();
      showCard();
    }

    // Controls
    resetBtn.addEventListener('click', reset);
    againBtn?.addEventListener('click', reset);

    // Init
    renderNumberRows();
    reset();
  </script>
</body>
</html>

